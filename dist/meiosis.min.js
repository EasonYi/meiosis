!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.meiosis=n():e.meiosis=n()}(this,function(){return function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function t(e){for(var r in e)n.hasOwnProperty(r)||(n[r]=e[r])}t(r(1)),t(r(2))},function(e,n,r){"use strict";function t(e){function n(e){if(!(e&&(e.actions||e.nextAction||e.initialModel||e.ready||e.receive||e.view||e.postRender)))throw new Error("Please specify a config when calling createComponent.");if(null===E){var n={};E=n}var o=e.initialModel,i=!1;if("function"==typeof o?(E=o(E),i=m>0):o&&(E=o,m++,i=m>1),i)throw new Error("When more than one initialModel is used, they must all be functions.");var a=e.actions?e.actions(v):v,u=e.receive;u&&r.push(u);var c=e.ready;c&&t.push(function(){return c(a)});var p=e.postRender;p&&s.push(p);var l=e.nextAction;return l&&f.push(function(e,n){return l(e,n,a)}),function(n){return e.view?e.view(n,a):void 0}}var r=[],t=[],s=[],f=[],c=e&&e.rootWire||o.defaultWireCreator(),p=e&&e.componentWire||o.defaultWireCreator(),l=c("meiosis_"+a++),d=p(),v=d.emit,E=null,m=0,w=function(e,o){d.listen(function(e){for(var n=!0,t=0;t<r.length;t++){var o=r[t],a=o(E,e);if(a===i){n=!1;break}E=a}n&&(l.emit(E),f.forEach(function(n){return n(E,e)}))});var a=function(n){var r=e(n,o);return s.forEach(function(e){return e(n)}),r};a.initialModel=E;var c=a;l.listen(c),l.emit(E),t.forEach(function(e){return e()});var p=window.__MEIOSIS_TRACER_DEVTOOLS_GLOBAL_HOOK__;if(p){var v=u(E),m=[],w=!1;n({receive:function(e,n){return w?window.postMessage({type:"MEIOSIS_RECEIVE",model:e,proposal:n},"*"):m.push({model:u(e),proposal:n}),e}}),window.addEventListener("message",function(e){if("MEIOSIS_RENDER_ROOT"===e.data.type)c(e.data.model);else if("MEIOSIS_REQUEST_INITIAL_MODEL"===e.data.type){window.postMessage({type:"MEIOSIS_INITIAL_MODEL",model:v},"*"),w=!0;for(var n=0;n<m.length;n++){var r=m[n],t=r.model,o=r.proposal;window.postMessage({type:"MEIOSIS_RECEIVE",model:t,proposal:o},"*")}}})}return c};return{createComponent:n,run:w}}var o=r(2),i={};n.REFUSE_PROPOSAL=i;var a=1,u=function(e){return JSON.parse(JSON.stringify(e))};n.init=t;var s=t(),f=s.createComponent;n.createComponent=f;var c=s.run;n.run=c},function(e,n){"use strict";function r(){var e=function(){var e=null,n=function(n){return e=n},r=function(n){return e(n)};return{emit:r,listen:n}};return function(n){var r=n;r||(r="wire_"+o,o++);var i=t[r];return i||(i=e(),t[r]=i),i}}var t={},o=1;n.defaultWireCreator=r}])});
//# sourceMappingURL=meiosis.min.js.map