!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.meiosis=n():e.meiosis=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}r(t(1)),r(t(2))},function(e,n,t){"use strict";function r(e){var n=[],t=[],r=[],u=[],s=e&&e.rootWire||o.defaultWireCreator(),c=e&&e.componentWire||o.defaultWireCreator(),f=s("meiosis_"+a++),l=c(),d=l.emit,p=null,v=0,m=function(e){if(!(e&&(e.actions||e.nextAction||e.initialModel||e.ready||e.receive||e.view||e.postRender||e.setup)))throw new Error("Please specify a config when calling createComponent.");if(null===p){var o={};p=o}var i=e.initialModel,a=!1;if("function"==typeof i?(p=i(p),a=v>0):i&&(p=i,v++,a=v>1),a)throw new Error("When more than one initialModel is used, they must all be functions.");var s=e.actions?e.actions(d):d,c=e.setup;c&&c(s);var f=e.receive;f&&n.push(f);var l=e.ready;l&&t.push(function(){return l(s)});var m=e.postRender;m&&r.push(m);var E=e.nextAction;return E&&u.push(function(e,n){return E(e,n,s)}),function(n){return e.view?e.view(n,s):void 0}},E=function(e,o){l.listen(function(e){for(var t=!0,r=0;r<n.length;r++){var o=n[r],a=o(p,e);if(a===i){t=!1;break}p=a}t&&(f.emit(p),u.forEach(function(n){return n(p,e)}))});var a=function(n){var t=e(n,o,d);return r.forEach(function(e){return e(n)}),t};a.initialModel=p;var s=a;f.listen(s),f.emit(p),t.forEach(function(e){return e()});var c=window.__MEIOSIS_TRACER_DEVTOOLS_GLOBAL_HOOK__;return c?(console.log("meiosis initializing devtool"),m({receive:function(e,n){return window.postMessage({type:"MEIOSIS_RECEIVE",model:e,proposal:n},"*"),e}}),window.addEventListener("message",function(e){"MEIOSIS_RENDER_ROOT"===e.data.type?s(e.data.model):"MEIOSIS_REQUEST_INITIAL_MODEL"===e.data.type&&window.postMessage({type:"MEIOSIS_INITIAL_MODEL",model:p},"*")})):console.log("meiosis no devtool"),s};return{createComponent:m,run:E}}var o=t(2),i={};n.REFUSE_PROPOSAL=i;var a=1;n.init=r;var u=r(),s=u.createComponent;n.createComponent=s;var c=u.run;n.run=c},function(e,n){"use strict";function t(){var e=function(){var e=null,n=function(n){return e=n},t=function(n){return e(n)};return{emit:t,listen:n}};return function(n){var t=n;t||(t="wire_"+o,o++);var i=r[t];return i||(i=e(),r[t]=i),i}}var r={},o=1;n.defaultWireCreator=t}])});
//# sourceMappingURL=meiosis.min.js.map