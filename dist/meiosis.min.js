!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.meiosis=n():e.meiosis=n()}(this,function(){return function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n,o){"use strict";function t(e){for(var o in e)n.hasOwnProperty(o)||(n[o]=e[o])}t(o(1)),t(o(2))},function(e,n,o){"use strict";function t(e){var n=[],o=[],t=[],a=[],u=e&&e.rootWire||r.defaultWireCreator(),c=e&&e.componentWire||r.defaultWireCreator(),f=u("meiosis_"+s++),l=c(),d=l.emit,p=null,v=0,E=function(e){if(!(e&&(e.actions||e.nextAction||e.initialModel||e.ready||e.receive||e.view||e.postRender||e.setup)))throw new Error("Please specify a config when calling createComponent.");if(null===p){var r={};p=r}var i=e.initialModel,s=!1;if("function"==typeof i?(p=i(p),s=v>0):i&&(p=i,v++,s=v>1),s)throw new Error("When more than one initialModel is used, they must all be functions.");var u=e.actions?e.actions(d):d,c=e.setup;c&&c(u);var f=e.receive;f&&n.push(f);var l=e.ready;l&&o.push(function(){return l(u)});var E=e.postRender;E&&t.push(E);var m=e.nextAction;return m&&a.push(function(e,n){return m(e,n,u)}),function(n){return e.view?e.view(n,u):void 0}},m=function(e,r){l.listen(function(e){for(var o=!0,t=0;t<n.length;t++){var r=n[t],s=r(p,e);if(s===i){o=!1;break}p=s}o&&(f.emit(p),a.forEach(function(n){return n(p,e)}))});var s=function(n){var o=e(n,r,d);return t.forEach(function(e){return e(n)}),o};s.initialModel=p;var u=s;f.listen(u),f.emit(p),o.forEach(function(e){return e()});var c=window.__MEIOSIS_TRACER_DEVTOOLS_GLOBAL_HOOK__;return c?(console.log("meiosis initializing devtool"),E({receive:function(e,n){return console.log("meiosis posting MEIOSIS_RECEIVE"),window.postMessage({type:"MEIOSIS_RECEIVE",model:e,proposal:n},"*"),e}}),window.addEventListener("message",function(e){"MEIOSIS_RENDER_ROOT"===e.data.type?(console.log("meiosis received MEIOSIS_RENDER_ROOT"),u(e.data.model)):"MEIOSIS_REQUEST_INITIAL_MODEL"===e.data.type?(console.log("meiosis received MEIOSIS_INITIAL_MODEL"),window.postMessage({type:"MEIOSIS_INITIAL_MODEL",model:p},"*")):console.log("meiosis received:",e)})):console.log("meiosis no devtool"),u};return{createComponent:E,run:m}}var r=o(2),i={};n.REFUSE_PROPOSAL=i;var s=1;n.init=t;var a=t(),u=a.createComponent;n.createComponent=u;var c=a.run;n.run=c},function(e,n){"use strict";function o(){var e=function(){var e=null,n=function(n){return e=n},o=function(n){return e(n)};return{emit:o,listen:n}};return function(n){var o=n;o||(o="wire_"+r,r++);var i=t[o];return i||(i=e(),t[o]=i),i}}var t={},r=1;n.defaultWireCreator=o}])});
//# sourceMappingURL=meiosis.min.js.map